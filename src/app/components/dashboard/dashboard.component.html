<div class="flex h-full h-full-without-nav">
    <div class="w-1/2 bg-gray-100 overflow-hidden">
        <div class="m-3 flex justify-between">
            <div class="font-bold text-2xl">Listes des soutenances</div>
            <div *ngIf="meetings" class="rounded-full py-2 px-4 bg-teal-500 text-white h-8 text-sm items-center flex">
                {{ (meetings.page_size * (page - 1)) + 1 }}
                -{{meetings.page_size * page < meetings.total_records ? meetings.page_size * page : meetings.total_records}}
                sur {{ meetings.total_records }}
            </div>
        </div>
        <div *ngIf="meetings" class="overflow-auto h-auto h-full-meetings">
            <div *ngFor="let meeting of meetings.meetings" class="rounded shadow-lg m-2 border border-solid border-grey-600">
                <div class="px-6 py-4">
                    <div class="font-bold text-xl mb-2">{{ meeting.topic }}</div>
                    <p class="text-gray-700 text-base">
                        Commence à {{ meeting.start_time | date:'full':'+0200':'fr' }}<br>
                        Crée le {{ meeting.created_at | date:'full':'+0200':'fr' }}<br>
                        <a [href]="meeting.join_url">adresse meeting</a><br>
                    </p>
                </div>
            </div>
        </div>
        <div *ngIf="meetings" class="flex justify-center mt-2">
            <div class="inline-flex">
                <button (click)="previous()"
                        [disabled]="page === 0"
                        [ngClass]="{'cursor-not-allowed opacity-50': page === 1}"
                        class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l">
                    Prev
                </button>
                <button (click)="next()"
                        [disabled]="page === meetings.page_count"
                        [ngClass]="{'cursor-not-allowed opacity-50': page === meetings.page_count}"
                        class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r">
                    Next
                </button>
            </div>
        </div>
    </div>
    <div class="w-1/2 bg-gray-100">
        <div class="m-3 flex justify-between">
            <div class="font-bold text-2xl">Créer une nouvelle soutenance</div>
        </div>
        <div class="rounded shadow-lg m-2 mt-5 px-6 border border-solid border-grey-600">
            <div class="px-6 py-4">
                <form [formGroup]="form" class="w-full max-w-sm">
                    <div class="md:flex md:items-center mb-6">
                        <div class="md:w-1/3">
                            <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="full-name">
                                Nom complet
                            </label>
                        </div>
                        <div class="md:w-2/3">
                            <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
                                   id="full-name" type="text" placeholder="John Doe" formControlName="fullName">
                        </div>
                    </div>
                    <div class="md:flex md:items-center mb-6">
                        <div class="md:w-1/3">
                            <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="email">
                                Adresse email
                            </label>
                        </div>
                        <div class="md:w-2/3">
                            <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
                                   id="email" placeholder="john.doe@mail.com" type="email" formControlName="email">
                        </div>
                    </div>
                    <div class="md:flex md:items-center mb-6">
                        <div class="md:w-1/3">
                            <label class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" for="date">
                                Date et heure
                            </label>
                        </div>
                        <div class="md:w-2/3">
                            <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500"
                                   id="date" type="datetime-local" formControlName="date">
                        </div>
                    </div>
                    <div class="md:flex md:items-center">
                        <div class="md:w-1/3"></div>
                        <div class="md:w-2/3">
                            <button class="shadow bg-teal-500 hover:bg-teal-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded"
                                    type="button" [disabled]="!form.valid">
                                Créer
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
